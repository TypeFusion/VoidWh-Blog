(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{504:function(e,t,a){"use strict";a.r(t);var v=a(4),r=Object(v.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"一次请求过程中-nuxt-的生命周期顺序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一次请求过程中-nuxt-的生命周期顺序"}},[e._v("#")]),e._v(" 一次请求过程中 nuxt 的生命周期顺序")]),e._v(" "),a("h3",{attrs:{id:"服务端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务端"}},[e._v("#")]),e._v(" 服务端")]),e._v(" "),a("p",[e._v("1.首先执行插件(所有在 nuxt.config.js 中写入的可以在服务端运行插件，不管是否在当前页面)")]),e._v(" "),a("p",[e._v("2.执行 nuxtServerInit"),a("code",[e._v("在这个方法中进行cookie读取，和赋值给store的操作")])]),e._v(" "),a("p",[e._v("3.执行 middleware"),a("code",[e._v("在这个方法中进行鉴权的操作")]),e._v("：")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("a. middleware 会先后执行 nuxt.config.js 中配置的 middleware；")])]),e._v(" "),a("li",[a("p",[e._v("b. layouts 中配置的 middleware；")])]),e._v(" "),a("li",[a("p",[e._v("c. pages 中的 middleware。")])])]),e._v(" "),a("p",[e._v("4.执行 validate 方法，校验页面参数是否正确")]),e._v(" "),a("p",[e._v("5.执行页面中的 asyncData 以及 fetch 方法")]),e._v(" "),a("p",[e._v("6.真正进入 vue 的生命周期中，按先后顺序,beforecreated,created")]),e._v(" "),a("h3",{attrs:{id:"客户端（浏览器端）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#客户端（浏览器端）"}},[e._v("#")]),e._v(" 客户端（浏览器端）")]),e._v(" "),a("p",[e._v("7.执行插件(所有在 nuxt.config.js 中写入可以在浏览器端执行的插件)")]),e._v(" "),a("p",[e._v("8.进入 vue 的生命周期中，再在浏览器端运行 beforecreated 和 created 一遍。")]),e._v(" "),a("p",[e._v("附：")]),e._v(" "),a("blockquote",[a("p",[e._v("1.plugin 和 nuxtServerInit 仅在首次刷新页面时会执行，后续点击页面内跳转不会再执行 plugin 和 nuxtServerInit 中的方法。如果打开新页面会再次触发 plugin 和 nuxtServerInit 方法。")])]),e._v(" "),a("h4",{attrs:{id:"理解："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#理解："}},[e._v("#")]),e._v(" 理解：")]),e._v(" "),a("p",[e._v("1.插件会在所有模块运行之前运行，而且每次请求都会运行，所以如果项目较大，访问量大的情况下，仅将必要的方法写到插件中，优化性能。")]),e._v(" "),a("p",[e._v("2.同构渲染框架提供的额外生命周期以及方法都是在真正的 vue 生命周期之前的，原因是 vue 的生命周期是不可以异步的，所以，为了满足开发的需求，所有生命周期和方法都应该是在 vue 生命周期之前去执行的，理解好这一点，会方便入手 nuxt 开发。")]),e._v(" "),a("p",[e._v("3.beforeCreated 和 created 生命周期其实是同时在服务端和浏览器端执行的，“同构”渲染的来源之一。")]),e._v(" "),a("p",[e._v("4.插件，nuxtServerInit,middleware,validate,asyncData，根据执行顺序和具体需求，选择好适合的生命周期和方法去处理开发需求是很有必要的")])])}),[],!1,null,null,null);t.default=r.exports}}]);